<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Realistic Room</title>
<style>
body{margin:0; overflow:hidden;}
canvas{display:block;}
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.157.0/examples/js/controls/PointerLockControls.js"></script>
<script>
// =========================
// SETUP SCENE
// =========================
const scene = new THREE.Scene();
scene.background = new THREE.Color(0xaaaaaa);

// =========================
// CAMERA
// =========================
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0, 1.6, 5);

// =========================
// RENDERER
// =========================
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.shadowMap.enabled = true;
document.body.appendChild(renderer.domElement);

// =========================
// LIGHTS
// =========================
const ambient = new THREE.AmbientLight(0xffffff,0.5);
scene.add(ambient);

const point = new THREE.PointLight(0xffffff,0.8);
point.position.set(0,3,0);
point.castShadow=true;
scene.add(point);

// =========================
// ROOM GEOMETRY
// =========================
const roomSize = 6;
const wallMaterial = new THREE.MeshStandardMaterial({color:0x888888});
const floorMaterial = new THREE.MeshStandardMaterial({color:0x444444});
const ceilingMaterial = new THREE.MeshStandardMaterial({color:0xaaaaaa});

// Floor
const floor = new THREE.Mesh(new THREE.BoxGeometry(roomSize,0.1,roomSize), floorMaterial);
floor.position.y = 0;
floor.receiveShadow = true;
scene.add(floor);

// Ceiling
const ceiling = new THREE.Mesh(new THREE.BoxGeometry(roomSize,0.1,roomSize), ceilingMaterial);
ceiling.position.y = 3;
scene.add(ceiling);

// Walls
const backWall = new THREE.Mesh(new THREE.BoxGeometry(roomSize,3,0.1), wallMaterial);
backWall.position.set(0,1.5,-roomSize/2);
scene.add(backWall);

const frontWall = new THREE.Mesh(new THREE.BoxGeometry(roomSize,3,0.1), wallMaterial);
frontWall.position.set(0,1.5,roomSize/2);
scene.add(frontWall);

const leftWall = new THREE.Mesh(new THREE.BoxGeometry(0.1,3,roomSize), wallMaterial);
leftWall.position.set(-roomSize/2,1.5,0);
scene.add(leftWall);

const rightWall = new THREE.Mesh(new THREE.BoxGeometry(0.1,3,roomSize), wallMaterial);
rightWall.position.set(roomSize/2,1.5,0);
scene.add(rightWall);

// Optional furniture
const cubeMaterial = new THREE.MeshStandardMaterial({color:0xff5555});
const cube = new THREE.Mesh(new THREE.BoxGeometry(1,1,1), cubeMaterial);
cube.position.set(1,0.5,0);
cube.castShadow=true;
scene.add(cube);

// =========================
// CONTROLS
// =========================
const controls = new THREE.PointerLockControls(camera, document.body);
document.body.addEventListener('click', ()=>{ controls.lock(); });

// Movement
const move = {forward:false,back:false,left:false,right:false};
const velocity = new THREE.Vector3();
document.addEventListener('keydown',e=>{
 if(e.code==='KeyW') move.forward=true;
 if(e.code==='KeyS') move.back=true;
 if(e.code==='KeyA') move.left=true;
 if(e.code==='KeyD') move.right=true;
});
document.addEventListener('keyup',e=>{
 if(e.code==='KeyW') move.forward=false;
 if(e.code==='KeyS') move.back=false;
 if(e.code==='KeyA') move.left=false;
 if(e.code==='KeyD') move.right=false;
});

// =========================
// ANIMATION LOOP
// =========================
const clock = new THREE.Clock();
function animate(){
 requestAnimationFrame(animate);
 const delta = clock.getDelta();
 velocity.set(0,0,0);
 const speed = 5*delta;
 if(move.forward) velocity.z -= speed;
 if(move.back) velocity.z += speed;
 if(move.left) velocity.x -= speed;
 if(move.right) velocity.x += speed;
 controls.moveRight(velocity.x);
 controls.moveForward(velocity.z);
 renderer.render(scene,camera);
}
animate();

// =========================
// HANDLE RESIZE
// =========================
window.addEventListener('resize', ()=>{
 camera.aspect = window.innerWidth/window.innerHeight;
 camera.updateProjectionMatrix();
 renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>